{% load questionnaire %}
{% for choice in qdict.choices %}
    <div class="radio">
    	{% if choice.inps%}
        	<label class="radio-label"><input name="question_{{ question.sortid }}_radio_choice" type="radio" value="_entry_{{choice.value}}" {% if ":" in qdict.prev_ans%}{% with qdict.prev_ans|choicesplit:":" as parts %}{% if choice.value == parts.0 %} checked {% endif %}{% endwith %}{% endif %}>{{choice.text}}</label>
            {% for inp in choice.inps %}
                {% if inp.type == 'textarea' %}
                    <div>
                        <textarea name="question_{{ question.sortid }}_{{ choice.sortid}}_comment" class="form-control" placeholder="{{ inp.placeholder }}" row="5">{% if ":" in qdict.prev_ans%}{% with qdict.prev_ans|choicesplit:":" as parts %}{% if choice.value == parts.0 %} {{parts.1}} {% endif %}{% endwith %}{% endif %}</textarea>
                    </div>
                {% else %}
                    <label class="radio-text-label"><input name="question_{{ question.sortid }}_{{ choice.sortid}}_comment" type="text" class="form-control" placeholder="{{ inp.placeholder }}" {% if ":" in qdict.prev_ans%}{% with qdict.prev_ans|choicesplit:":" as parts %}{% if choice.value == parts.0 %} value="{{parts.1}}" {% endif %}{% endwith %}{% endif %}></label>
                {% endif %}
            {% endfor %}
    	{% else %}
    		<label class="radio-label"><input name="question_{{ question.sortid }}_radio_choice" type="radio" value="{{choice.value}}" {% if ":" not in qdict.prev_ans%}{% if choice.value == qdict.prev_ans %} checked {% endif %}{% endif %}>{{choice.text}}</label>
    	{% endif %}
    </div>
{% endfor %}